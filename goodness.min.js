/*! Goodness v0.0.1 2014-03-13 */
!function(a,b,c,d){var e="goodness",f={inputContainerSelector:".input-group",validateOnChange:!0,emitEvents:!0,defaultErrorMessage:"You gotta fix this."},g={required:{reggie:/^(?!\s*$).+/,message:"You HAVE to fill this one out."},email:{reggie:/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,message:"Must be a valid MySpace email address."}},h=function(b,c){if(!a(b).is("form"))return a.error("goodness method should be called on a <form> element"),!1;var h;if(c&&c.rules&&(h=c.rules,c.rules=d),this.element=b,this.$element=a(b),this.options=a.extend({},f,c),this.rules=g,this._defaults=f,this._name=e,"object"==typeof h){var i=this;a.each(h,function(a,b){i.addRule(b.name,b)})}this.init(),this.listen()};h.prototype.init=function(){},h.prototype.listen=function(){this.$element.on("submit",a.proxy(this._onFormSubmit,this)),this.options.validateOnChange&&this.$element.find("input").on("change",a.proxy(this._onInputChange,this))},h.prototype.isAllGood=function(){var b=this,c=!0;return this.$element.find("input:not([type=submit])").each(function(d,e){var f=a(e);b.goodOne(f)||(c=!1)}),c},h.prototype.goodOne=function(b){var c=this.options,d=!0,e=b.closest(c.inputContainerSelector),f=e.attr("class").split(/\s+/),h=!1;return a.each(f,function(a,c){if(g[c]){var f=g[c];f.reggie.test(b.val())?e.removeClass(c+"-error"):(e.addClass(c+"-error"),h=!0,d=!1)}}),h?e.addClass("error"):e.removeClass("error"),d},h.prototype._onFormSubmit=function(){return a(this).trigger("submit"),this.isAllGood()?!0:!1},h.prototype._onInputChange=function(b){this.goodOne(a(b.currentTarget))},h.prototype.getRules=function(){return g},h.prototype.addRule=function(b,c){return b&&"string"==typeof b&&c&&"object"==typeof c?(c.message||(c.message=f.defaultErrorMessage),c.reggie&&c.reggie instanceof RegExp?(g[b]||(g[b]=c),this):(a.error("Must supply a rule RegEx."),!1)):void 0},a.fn[e]=function(a){if(1!==this.length)throw new Error("Goodness does not support multiple element selectors. Make sure your selector only returns a single element.");if(!this.data("plugin_"+e)){var b=new h(this,a);return this.data("plugin_"+e,b),b}}}(jQuery,window,document);