/*! Goodness v0.0.2 2014-03-14 */
!function(a,b,c,d){var e="goodness",f="input:not([type=submit]):not([type=hidden]):not([type=reset]), textarea, select",g={inputContainerSelector:".input-group",validationElementSelector:f,validateOnChange:!1,emitEvents:!1,defaultErrorMessage:"You gotta fix this."},h={required:{regex:/^(?!\s*$).+/,message:"You HAVE to fill this one out."},email:{regex:/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,message:"Must be a valid MySpace email address."}},i=function(b,c){if(!a(b).is("form"))return a.error("goodness method should be called on a <form> element"),!1;var f;if(c&&c.rules&&(f=c.rules,c.rules=d),this.element=b,this.$element=a(b),this.options=a.extend({},g,c),this.rules=h,this._defaults=g,this._name=e,this.$formControls=this.$element.find(this.options.validationElementSelector),"object"==typeof f){var i=this;a.each(f,function(a,b){i.addRule(b.name,b)})}this.init(),this.listen()};i.prototype.init=function(){},i.prototype.listen=function(){this.$element.on("submit",a.proxy(this._onFormSubmit,this)),this.options.validateOnChange&&this.$formControls.on("change",a.proxy(this._onInputChange,this))},i.prototype.isAllGood=function(){var b=this,c=!0;return this.$formControls.each(function(d,e){var f=a(e);b.goodOne(f)||(c=!1)}),c},i.prototype.goodOne=function(b){var c=this.options,d=!0,e=b.closest(c.inputContainerSelector),f=e.attr("class").split(/\s+/),g=!1;return a.each(f,function(a,c){if(h[c]){var f=h[c];f.regex.test(b.val())?e.addClass(c+"-good").removeClass(c+"-error"):(e.addClass(c+"-error").removeClass(c+"-good"),g=!0,d=!1)}}),g?e.removeClass("good").addClass("error"):e.removeClass("error").addClass("good"),d},i.prototype.refresh=function(a){return this.$formControls=this.$element.find(this.options.validationElementSelector),a?this.isAllGood():!0},i.prototype.getRules=function(){return h},i.prototype.addRule=function(b,c){return b&&"string"==typeof b&&c&&"object"==typeof c?(c.message||(c.message=g.defaultErrorMessage),c.regex&&c.regex instanceof RegExp?(h[b]||(h[b]=c),this):(a.error("Must supply a rule RegEx."),!1)):void 0},i.prototype._onFormSubmit=function(){return a(this).trigger("submit"),this.isAllGood()?!0:!1},i.prototype._onInputChange=function(b){this.goodOne(a(b.currentTarget))},a.fn[e]=function(a){if(1!==this.length)throw new Error("Goodness does not support multiple element selectors. Make sure your selector only returns a single element.");if(!this.is("form"))throw new Error("Goodness should only be called on a form element.");if(!this.data("plugin_"+e)){var b=new i(this,a);return this.data("plugin_"+e,b),b}}}(jQuery,window,document);